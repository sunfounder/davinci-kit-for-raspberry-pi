.. note::

    隆Hola! Bienvenido a la Comunidad de Entusiastas de SunFounder para Raspberry Pi, Arduino y ESP32 en Facebook. Sum茅rgete en el mundo de Raspberry Pi, Arduino y ESP32 junto a otros entusiastas.

    **驴Por qu茅 unirse?**

    - **Soporte Experto**: Resuelve problemas postventa y desaf铆os t茅cnicos con la ayuda de nuestra comunidad y equipo.
    - **Aprende y Comparte**: Intercambia consejos y tutoriales para mejorar tus habilidades.
    - **Avances Exclusivos**: Accede anticipadamente a anuncios de nuevos productos y adelantos exclusivos.
    - **Descuentos Especiales**: Aprovecha descuentos exclusivos en nuestros productos m谩s recientes.
    - **Promociones Festivas y Sorteos**: Participa en sorteos y promociones especiales.

     驴Listo para explorar y crear con nosotros? Haz clic en [|link_sf_facebook|] y 煤nete hoy mismo.

.. _1.1.7_py_pi5:

1.1.7 Pantalla LCD1602 I2C
==============================

Introducci贸n
---------------

LCD1602 es una pantalla de cristal l铆quido de tipo car谩cter, que puede 
mostrar hasta 32 caracteres (16*2) al mismo tiempo.

Componentes Necesarios
--------------------------

Para este proyecto, necesitamos los siguientes componentes.

.. image:: ../python_pi5/img/1.1.7_i2c_lcd_list.png

.. raw:: html

   <br/>

Diagrama de Conexiones
-------------------------

============ ========
T-Board Name physical
SDA1         Pin 3
SCL1         Pin 5
============ ========

.. image:: ../python_pi5/img/1.1.7_i2c_lcd_schematic.png


Procedimientos del Experimento
-----------------------------------

**Paso 1:** Construye el circuito.

.. image:: ../python_pi5/img/1.1.7_i2c_lcd1602_circuit.png

**Paso 2**: Configura el I2C (consulta :ref:`i2c_config`. Si ya tienes configurado I2C, omite este paso.)

**Paso 3:** Cambia de directorio.

.. raw:: html

   <run></run>

.. code-block::

    cd ~/davinci-kit-for-raspberry-pi/python-pi5

**Paso 4:** Ejecuta el c贸digo.

.. raw:: html

   <run></run>

.. code-block::

    sudo python3 1.1.7_Lcd1602.py

Despu茅s de ejecutar el c贸digo, ver谩s el mensaje ``隆Saludos! De SunFounder`` mostrado en el LCD.

.. note::

    * Si obtienes el error ``FileNotFoundError: [Errno 2] No such file or directory: '/dev/i2c-1'``, necesitas consultar :ref:`i2c_config` para habilitar el I2C.
    * Si recibes el error ``ModuleNotFoundError: No module named 'smbus2'``, por favor ejecuta ``sudo pip3 install smbus2``.
    * Si aparece el error ``OSError: [Errno 121] Remote I/O error``, significa que el m贸dulo est谩 mal conectado o est谩 da帽ado.
    * Si el c贸digo y las conexiones son correctos, pero el LCD a煤n no muestra contenido, puedes ajustar el potenci贸metro en la parte posterior para aumentar el contraste.

.. warning::


    Si aparece el mensaje de error ``RuntimeError: Cannot determine SOC peripheral base address``, consulta :ref:`faq_soc` 

**C贸digo** 

.. note::

    Puedes **Modificar/Restablecer/Copiar/Ejecutar/Detener** el c贸digo a continuaci贸n. Antes de eso, aseg煤rate de estar en la ruta del c贸digo fuente, como ``davinci-kit-for-raspberry-pi/python-pi5``. Despu茅s de modificar el c贸digo, puedes ejecutarlo directamente para ver el efecto.

.. raw:: html

    <run></run>

.. code-block:: python

   #!/usr/bin/env python3
   import LCD1602  # Importa el m贸dulo para interfaz con LCD1602
   import time     # Importa el m贸dulo para funciones de temporizaci贸n

   def setup():
       # Inicializa el LCD con direcci贸n I2C 0x27 y activa la retroiluminaci贸n
       LCD1602.init(0x27, 1) 
       # Muestra el mensaje 'Saludos!' en la esquina superior izquierda (fila 0, columna 0)
       LCD1602.write(0, 0, 'Greetings!') 
       # Muestra el mensaje 'De SunFounder' en la segunda l铆nea (fila 1, columna 1)
       LCD1602.write(1, 1, 'From SunFounder') 
       time.sleep(2)  # Muestra los mensajes por 2 segundos

   try:
       setup()  # Ejecuta la funci贸n de configuraci贸n para inicializar el LCD y mostrar los mensajes
       
   except KeyboardInterrupt:
       # Limpia la pantalla del LCD si ocurre una interrupci贸n del teclado (por ejemplo, Ctrl+C)
       LCD1602.clear()
       pass  # Procede sin realizar ninguna acci贸n adicional


**Explicaci贸n del C贸digo**

1. Este archivo es de c贸digo abierto para controlar el LCD1602 I2C. Nos permite usar f谩cilmente el LCD1602 I2C.

   .. code-block:: python

       import LCD1602  # Importa el m贸dulo para interfaz con LCD1602

2. La funci贸n inicializa el sistema I2C con el s铆mbolo del dispositivo designado. El primer par谩metro es la direcci贸n del dispositivo I2C, que puede detectarse con el comando i2cdetect (consulta el Ap茅ndice para m谩s detalles). La direcci贸n del I2C LCD1602 generalmente es 0x27.

   .. code-block:: python

       # Inicializa el LCD con direcci贸n I2C 0x27 y activa la retroiluminaci贸n
       LCD1602.init(0x27, 1) 

3. ``LCD1602.write`` se usa para mostrar mensajes en el LCD. Los primeros dos par谩metros son la posici贸n de fila y columna, y el tercero es el mensaje. Ahora puedes ver "隆Saludos! De SunFounder" en el LCD.

   .. code-block:: python

       # Muestra el mensaje 'Saludos!' en la esquina superior izquierda (fila 0, columna 0)
       LCD1602.write(0, 0, 'Greetings!') 
       # Muestra el mensaje 'De SunFounder' en la segunda l铆nea (fila 1, columna 1)
       LCD1602.write(1, 1, 'From SunFounder') 

