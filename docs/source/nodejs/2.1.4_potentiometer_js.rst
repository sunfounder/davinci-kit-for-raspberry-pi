.. note::

    隆Hola! Bienvenido a la Comunidad de Entusiastas de SunFounder para Raspberry Pi, Arduino y ESP32 en Facebook. Sum茅rgete en el fascinante mundo de Raspberry Pi, Arduino y ESP32 junto a otros entusiastas.

    **驴Por qu茅 unirte?**

    - **Soporte Experto**: Resuelve problemas postventa y desaf铆os t茅cnicos con la ayuda de nuestra comunidad y equipo.
    - **Aprende y Comparte**: Intercambia consejos y tutoriales para mejorar tus habilidades.
    - **Avances Exclusivos**: Obt茅n acceso anticipado a nuevos anuncios de productos y adelantos exclusivos.
    - **Descuentos Especiales**: Disfruta de descuentos exclusivos en nuestros productos m谩s recientes.
    - **Promociones Festivas y Sorteos**: Participa en sorteos y promociones especiales de temporada.

     驴Listo para explorar y crear con nosotros? Haz clic en [|link_sf_facebook|] y 煤nete hoy mismo.

2.1.4 Potenci贸metro
===========================

Introducci贸n
----------------

La funci贸n de ADC permite convertir se帽ales anal贸gicas en se帽ales 
digitales. En este experimento, usamos el ADC0834 para realizar esta 
conversi贸n con un potenci贸metro. El potenci贸metro cambia la cantidad 
f铆sica, en este caso el voltaje, que luego es convertido mediante la funci贸n ADC.

Componentes
-------------

.. image:: ../img/list_2.1.4_potentiometer.png


Diagrama del Circuito
----------------------

.. image:: ../img/image311.png


.. image:: ../img/image312.png


Procedimientos Experimentales
---------------------------------

**Paso 1:** Construye el circuito.

.. image:: ../img/image180.png


.. note::
    Coloca el chip siguiendo la posici贸n correspondiente indicada en 
    la imagen. Observa que las muescas del chip deben estar a la izquierda 
    cuando se coloque.

**Paso 2:** Dir铆gete a la carpeta del c贸digo.

.. raw:: html

   <run></run>

.. code-block::

    cd ~/davinci-kit-for-raspberry-pi/nodejs/

**Paso 3:** Ejecuta el c贸digo.

.. raw:: html

   <run></run>

.. code-block::

    sudo node potentionmeter.js

Despu茅s de ejecutar el c贸digo, gira la perilla del potenci贸metro; la 
intensidad del LED cambiar谩 en consecuencia.

**C贸digo**

.. code-block:: js

    const Gpio = require('pigpio').Gpio;
    const ADC0834 = require('./adc0834.js').ADC0834;

    const adc = new ADC0834(17, 18, 27);
    const led = new Gpio(22, {mode: Gpio.OUTPUT});

    setInterval(() => {
        adc.read(0).then((value) => {
            console.log(`Current analogVal: ${value}\n`);
            led.pwmWrite(value);
        }, (error)=>{
            console.log("Error: " + error);
        });
    }, 100);

**Explicaci贸n del C贸digo**

.. code-block:: js

    const Gpio = require('pigpio').Gpio;

Importa el m贸dulo ``pigpio``.

.. code-block:: js

    const ADC0834 = require('./adc0834.js').ADC0834;

Importamos un constructor ``ADC0834`` para usar el m贸dulo adc0834.


.. code-block:: js

   const adc = new ADC0834(17, 18, 27);


Instancia un objeto ADC0834; los tres par谩metros corresponden a sus tres pines.

Este es un objeto promise. Puedes obtener m谩s informaci贸n sobre el concepto en el siguiente enlace:

* `Promise <https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise>`_


.. code-block:: js

    setInterval(() => {
        adc.read(0).then((value) => {
            console.log(`Current analogVal: ${value}\n`);
            led.pwmWrite(value);
        }, (error)=>{
            console.log("Error: " + error);
        });
    }, 100);

Cada 100 ms, se lee el valor del canal 0 del ADC0834 (el canal 0 est谩 conectado al potenci贸metro), y el valor se almacena en ``value``.

Imprime ``value`` y 煤salo para controlar el brillo del LED. Ahora puedes observar c贸mo el brillo del LED var铆a en funci贸n del valor del potenci贸metro.




Imagen del Fen贸meno
------------------------

.. image:: ../img/image181.jpeg


