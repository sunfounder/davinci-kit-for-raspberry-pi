.. note::

    Hallo und willkommen in der SunFounder Raspberry Pi & Arduino & ESP32 Enthusiasten-Gemeinschaft auf Facebook! Tauchen Sie tiefer ein in die Welt von Raspberry Pi, Arduino und ESP32 mit anderen Enthusiasten.

    **Warum beitreten?**

    - **Expertenunterst√ºtzung**: L√∂sen Sie Nachverkaufsprobleme und technische Herausforderungen mit Hilfe unserer Gemeinschaft und unseres Teams.
    - **Lernen & Teilen**: Tauschen Sie Tipps und Anleitungen aus, um Ihre F√§higkeiten zu verbessern.
    - **Exklusive Vorschauen**: Erhalten Sie fr√ºhzeitigen Zugang zu neuen Produktank√ºndigungen und exklusiven Einblicken.
    - **Spezialrabatte**: Genie√üen Sie exklusive Rabatte auf unsere neuesten Produkte.
    - **Festliche Aktionen und Gewinnspiele**: Nehmen Sie an Gewinnspielen und Feiertagsaktionen teil.

    üëâ Sind Sie bereit, mit uns zu erkunden und zu erschaffen? Klicken Sie auf [|link_sf_facebook|] und treten Sie heute bei!

.. _1.1.2_py_pi5:

1.1.2 RGB-LED
====================

Einf√ºhrung
--------------

In diesem Projekt werden wir eine RGB-LED steuern, um verschiedene Farben blinken zu lassen.

Ben√∂tigte Komponenten
------------------------------

F√ºr dieses Projekt ben√∂tigen wir die folgenden Komponenten.

.. image:: ../python_pi5/img/1.1.2_rgb_led_list.png
    :align: center

Schaltplan
-----------------------

Nachdem die Pins von R, G und B mit einem Strombegrenzungswiderstand verbunden sind, verbinden Sie diese mit GPIO17, GPIO18 und GPIO27. Der l√§ngste Pin (GND) der LED verbindet sich mit dem GND des Raspberry Pi. Wenn den drei Pins unterschiedliche PWM-Werte gegeben werden, zeigt die RGB-LED verschiedene Farben an.

============ ======== ===
T-Board Name physical BCM
GPIO17       Pin 11   17
GPIO18       Pin 12   18
GPIO27       Pin 13   27
============ ======== ===

.. image:: ../python_pi5/img/1.1.2_rgb_led_schematic.png

Experimentelle Verfahren
----------------------------

**Schritt 1:** Bauen Sie den Schaltkreis auf.

.. image:: ../python_pi5/img/1.1.2_rgbLed_circuit.png

**Schritt 2:** √ñffnen Sie die Code-Datei.

.. raw:: html

   <run></run>

.. code-block::

    cd ~/davinci-kit-for-raspberry-pi/python-pi5

**Schritt 3:** Ausf√ºhren.

.. raw:: html

   <run></run>

.. code-block::

    sudo python3 1.1.2_rgbLed_zero.py

Nachdem der Code ausgef√ºhrt wurde, sehen Sie, dass RGB rot, gr√ºn, blau,
gelb, rosa und cyan anzeigt.

.. warning::

    Wenn die Fehlermeldung ``RuntimeError: Cannot determine SOC peripheral base address`` angezeigt wird, lesen Sie bitte :ref:`faq_soc`

**Code**

.. note::

    Sie k√∂nnen den unten stehenden Code **Modifizieren/Zur√ºcksetzen/Kopieren/Ausf√ºhren/Stoppen**. Aber bevor Sie das tun, m√ºssen Sie zum Quellcode-Pfad wie ``davinci-kit-for-raspberry-pi/python-pi5`` gehen. Nachdem Sie den Code ge√§ndert haben, k√∂nnen Sie ihn direkt ausf√ºhren, um die Auswirkungen zu sehen.

.. raw:: html

    <run></run>

.. code-block:: python

   #!/usr/bin/env python3
   from gpiozero import RGBLED
   from time import sleep

   # Definieren Sie eine Liste von Farben f√ºr die RGB-LED im RGB-Format (Rot, Gr√ºn, Blau).
   # Jede Farbkomponente reicht von 0 (aus) bis 1 (volle Intensit√§t).
   COLORS = [(1, 0, 0), (0, 1, 0), (0.2, 0.1, 1), (1, 1, 0), (1, 0, 1), (0, 1, 1)]

   # Initialisieren Sie eine RGB-LED. Verbinden Sie die rote Komponente mit GPIO 17, gr√ºn mit GPIO 18 und blau mit GPIO 27.
   rgb_led = RGBLED(red=17, green=18, blue=27)

   try:
       # Kontinuierlich durch die definierten Farben durchlaufen.
       while True:
           for color in COLORS:
               # Stellen Sie die RGB-LED auf die aktuelle Farbe ein.
               rgb_led.color = color
               # Geben Sie die aktuelle Farbe auf der Konsole aus.
               print(f"Farbe eingestellt auf: {color}")
               # Warten Sie 1 Sekunde, bevor Sie zur n√§chsten Farbe wechseln.
               sleep(1)

   except KeyboardInterrupt:
       # Behandeln Sie ein KeyboardInterrupt (Ctrl+C) um die Schleife elegant zu beenden.
       # Die GPIO-Bereinigung wird automatisch von GPIO Zero bei Beendigung des Skripts verwaltet.
       pass


**Code-Erkl√§rung**

#. Hier werden die Klasse ``RGBLED`` aus der Bibliothek ``gpiozero`` zum Steuern einer RGB-LED und die Bibliothek ``time`` f√ºr Verz√∂gerungen im Code importiert.

   .. code-block:: python

       #!/usr/bin/env python3
       from gpiozero import RGBLED
       from time import sleep

#. Die Liste ``COLORS`` enth√§lt Tupel, die verschiedene Farben im RGB-Format darstellen. Durch Zuweisen unterschiedlicher Pulsweitenmodulations- (PWM-) Werte an jeden der R-, G- und B-Pins √ºber das Attribut ``rgb_led.color`` kann die LED eine Vielzahl von Farben erzeugen. Die PWM-Werte reichen von 0 bis 1, wobei 0 keine Intensit√§t (aus) und 1 volle Intensit√§t f√ºr jede Farbkomponente darstellt.
#. Beispielsweise f√ºhrt das Einstellen von ``rgb_led.color = (1, 0, 0)`` dazu, dass die LED rot leuchtet, da volle Intensit√§t f√ºr die rote Komponente eingestellt wird, w√§hrend Gr√ºn und Blau ausgeschaltet bleiben. Verschiedene Kombinationen dieser Werte f√ºhren zu unterschiedlichen Farben. Diese Technik der Farbmischung durch PWM erm√∂glicht die Erstellung einer breiten Palette von Farben auf der RGB-LED.

   .. code-block:: python    
       
       COLORS = [(1, 0, 0), (0, 1, 0), (0.2, 0.1, 1), (1, 1, 0), (1, 0, 1), (0, 1, 1)]

#. Eine RGB-LED wird initialisiert, wobei ihre roten, gr√ºnen und blauen Komponenten jeweils an die GPIO-Pins 17, 18 und 27 angeschlossen sind.

   .. code-block:: python

       # Initialisieren Sie eine RGB-LED. Verbinden Sie die rote Komponente mit GPIO 17, gr√ºn mit GPIO 18 und blau mit GPIO 27.
       rgb_led = RGBLED(red=17, green=18, blue=27)

#. Die Schleife ``while True:`` durchl√§uft kontinuierlich die in ``COLORS`` definierten Farben. F√ºr jede Farbe setzt ``rgb_led.color = color`` die LED auf diese Farbe, und ``sleep(1)`` pausiert f√ºr 1 Sekunde.

   .. code-block:: python

       try:
           # Kontinuierlich durch die definierten Farben durchlaufen.
           while True:
               for color in COLORS:
                   # Stellen Sie die RGB-LED auf die aktuelle Farbe ein.
                   rgb_led.color = color
                   # Geben Sie die aktuelle Farbe auf der Konsole aus.
                   print(f"Farbe eingestellt auf: {color}")
                   # Warten Sie 1 Sekunde, bevor Sie zur n√§chsten Farbe wechseln.
                   sleep(1)

#. Dieser Abschnitt behandelt ein ``KeyboardInterrupt`` (zum Beispiel das Dr√ºcken von Ctrl+C) auf elegante Weise. Das ``pass``-Statement wird als Platzhalter verwendet, um anzuzeigen, dass bei einer Unterbrechung keine spezifische Aktion unternommen wird, da GPIO Zero die GPIO-Bereinigung automatisch handhabt.

   .. code-block:: python

       except KeyboardInterrupt:
           # Behandeln Sie ein KeyboardInterrupt (Ctrl+C) um die Schleife elegant zu beenden.
           # Die GPIO-Bereinigung wird automatisch von GPIO Zero bei Beendigung des Skripts verwaltet.
           pass
