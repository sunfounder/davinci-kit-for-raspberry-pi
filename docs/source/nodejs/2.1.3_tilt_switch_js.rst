.. note::

    隆Hola! Bienvenido a la Comunidad de Entusiastas de SunFounder para Raspberry Pi, Arduino y ESP32 en Facebook. Sum茅rgete en el fascinante mundo de Raspberry Pi, Arduino y ESP32 junto a otros entusiastas.

    **驴Por qu茅 unirte?**

    - **Soporte Experto**: Resuelve problemas postventa y desaf铆os t茅cnicos con la ayuda de nuestra comunidad y equipo.
    - **Aprende y Comparte**: Intercambia consejos y tutoriales para mejorar tus habilidades.
    - **Avances Exclusivos**: Obt茅n acceso anticipado a nuevos anuncios de productos y adelantos exclusivos.
    - **Descuentos Especiales**: Disfruta de descuentos exclusivos en nuestros productos m谩s recientes.
    - **Promociones Festivas y Sorteos**: Participa en sorteos y promociones especiales de temporada.

     驴Listo para explorar y crear con nosotros? Haz clic en [|link_sf_facebook|] y 煤nete hoy mismo.

2.1.3Interruptor de Inclinaci贸n
=======================================

Introducci贸n
---------------

Este es un interruptor de inclinaci贸n con una bola met谩lica en su interior. Se utiliza para detectar inclinaciones de 谩ngulos peque帽os.

Componentes
--------------

.. image:: ../img/list_2.1.3_tilt_switch.png


Diagrama del Circuito
-------------------------

.. image:: ../img/image307.png


.. image:: ../img/image308.png


Procedimientos Experimentales
--------------------------------

**Paso 1:** Construye el circuito.

.. image:: ../img/image169.png

**Paso 2:** Dir铆gete a la carpeta del c贸digo.

.. raw:: html

   <run></run>

.. code-block:: 

    cd ~/davinci-kit-for-raspberry-pi/nodejs/

**Paso 3:** Ejecuta el c贸digo.

.. raw:: html

   <run></run>

.. code-block:: 

    sudo node tilt_switch.js

Coloca el interruptor de inclinaci贸n verticalmente, y el LED 
verde se encender谩. Si lo inclinas, el LED rojo se encender谩. 
Col贸calo nuevamente en posici贸n vertical, y el LED verde se encender谩.

**C贸digo**

.. raw:: html

    <run></run>

.. code-block:: js

    const Gpio = require('pigpio').Gpio;

    const led1 = new Gpio(22, { mode: Gpio.OUTPUT });
    const led2 = new Gpio(27, { mode: Gpio.OUTPUT });

    const tilt = new Gpio(17, {
        mode: Gpio.INPUT,
        pullUpDown: Gpio.PUD_DOWN,     
        edge: Gpio.EITHER_EDGE        
    });

    tilt.on('interrupt', (level) => {  
        if (level) {
            console.log("Horizontally");
        }
        else {
            console.log("Vertically");
        }
        led1.digitalWrite(level);
        led2.digitalWrite(!level);    
    });

**Explicaci贸n del C贸digo**

.. code-block:: js

    const Gpio = require('pigpio').Gpio;

    const led1 = new Gpio(22, { mode: Gpio.OUTPUT });
    const led2 = new Gpio(27, { mode: Gpio.OUTPUT });

    const tilt = new Gpio(17, {
        mode: Gpio.INPUT,
        pullUpDown: Gpio.PUD_DOWN,     
        edge: Gpio.EITHER_EDGE        
    }); 

Importa el m贸dulo pigpio y crea tres objetos: led1, led2 y tilt, 
para controlar el encendido y apagado de los LED led1 y led2 leyendo el nivel del puerto IO de tilt.

.. code-block:: js

    const tilt = new Gpio(17, {
        mode: Gpio.INPUT,
        pullUpDown: Gpio.PUD_DOWN,     
        edge: Gpio.EITHER_EDGE       
    });

Crea un objeto tilt para controlar el puerto IO Gpio17, config煤ralo en modo de entrada con resistencia pull-down (nivel bajo inicial).
Establece la funci贸n de interrupci贸n con modo EITHER_EDGE, es decir, los bordes de subida y bajada activar谩n la funci贸n de interrupci贸n.

.. code-block:: js

    tilt.on('interrupt', (level) => {  
        if (level) {
            console.log("Horizontally");
        }
        else {
            console.log("Vertically");
        }
        led1.digitalWrite(level);
        led2.digitalWrite(!level);    
    });

Cuando se activa la interrupci贸n, se escribe el mismo nivel en led1 y el nivel opuesto en led2. 
Cuando el puerto IO de tilt est谩 en alto, el terminal imprime "Horizontal";
Cuando el puerto IO de tilt est谩 en bajo, el terminal imprime "Vertical".



Imagen del Fen贸meno
-----------------------

.. image:: ../img/image170.jpeg
