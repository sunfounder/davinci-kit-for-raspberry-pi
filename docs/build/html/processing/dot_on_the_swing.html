

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Dot on the Swing &mdash; SunFounder Da Vinci Kit  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="https://ezblock.cc/readDocFile/topHead.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="https://ezblock.cc/readDocFile/topHead.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Metronome" href="metronome.html" />
    <link rel="prev" title="Inflating the Dot" href="inflating_the_dot.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> SunFounder Da Vinci Kit
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../component_list.html">Component List</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preparation.html">Preparation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../libraries.html">Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gpio_extension_board.html">GPIO Extension Board</a></li>
<li class="toctree-l1"><a class="reference internal" href="../download_the_code.html">Download the Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1_output.html">1 Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2_input.html">2 Input</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3_extension.html">3 Extension</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iot/4_iot_projects.html">4 IOT</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="play_with_processing.html">Play with Processing</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="play_with_processing.html#what-is-processing">What is Processing？</a></li>
<li class="toctree-l2"><a class="reference internal" href="play_with_processing.html#install-the-processing">Install the Processing</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="play_with_processing.html#projects">Projects</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="draw_a_matchmaker.html">Draw a Matchmaker</a></li>
<li class="toctree-l3"><a class="reference internal" href="hello_mouse.html">Hello Mouse</a></li>
<li class="toctree-l3"><a class="reference internal" href="blinking_dot.html">Blinking Dot</a></li>
<li class="toctree-l3"><a class="reference internal" href="clickable_dot.html">Clickable Dot</a></li>
<li class="toctree-l3"><a class="reference internal" href="clickable_color_blocks.html">Clickable Color Blocks</a></li>
<li class="toctree-l3"><a class="reference internal" href="inflating_the_dot.html">Inflating the Dot</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Dot on the Swing</a></li>
<li class="toctree-l3"><a class="reference internal" href="metronome.html">Metronome</a></li>
<li class="toctree-l3"><a class="reference internal" href="show_number.html">Show Number</a></li>
<li class="toctree-l3"><a class="reference internal" href="drag_number.html">Drag Number</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../scratch/play_with_scratch.html">Play with Scratch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix.html">Appendix</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SunFounder Da Vinci Kit</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="play_with_processing.html">Play with Processing</a> &raquo;</li>
        
      <li>Dot on the Swing</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/processing/dot_on_the_swing.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="dot-on-the-swing">
<h1>Dot on the Swing<a class="headerlink" href="#dot-on-the-swing" title="Permalink to this headline">¶</a></h1>
<p>In this project, 3 buttons are connected, one to change the size of the dot, one to change the position and the last one to change the color. If you press all 3 buttons at the same time, you will get a dot that is swinging and has a variable color.</p>
<img alt="../_images/dancing_dot.png" src="../_images/dancing_dot.png" />
<p><strong>Wiring</strong></p>
<img alt="../_images/circuit_dancing_dot.png" src="../_images/circuit_dancing_dot.png" />
<p><strong>Sketch</strong></p>
<div class="highlight-arduino notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="n">processing</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="o">*</span><span class="p">;</span>

<span class="c1">// Define an instance of the Dot object</span>
<span class="n">Dot</span> <span class="n">myDot</span><span class="p">;</span>

<span class="c1">// Define the pins that will be reading button presses</span>
<span class="kr">int</span><span class="p">[]</span> <span class="n">pins</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">24</span> <span class="p">};</span>

<span class="kr">void</span> <span class="nb">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="nf">size</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">400</span><span class="p">);</span>
    <span class="c1">// Change the color mode of the sketch to HSB</span>
    <span class="n">colorMode</span><span class="p">(</span><span class="n">HSB</span><span class="p">,</span> <span class="mi">360</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
    <span class="nf">noStroke</span><span class="p">();</span>

    <span class="k">for</span> <span class="p">(</span><span class="kr">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">pins</span><span class="p">.</span><span class="n">length</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">GPIO</span><span class="p">.</span><span class="nf">pinMode</span><span class="p">(</span><span class="n">pins</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">GPIO</span><span class="p">.</span><span class="kr">INPUT_PULLUP</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// Create a Dot in the middle of the screen</span>
    <span class="n">myDot</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Dot</span><span class="p">(</span><span class="nf">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="nf">height</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">255</span><span class="p">);</span>
<span class="p">}</span>

<span class="kr">void</span> <span class="nf">draw</span><span class="p">()</span> <span class="p">{</span>
    <span class="nf">background</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

    <span class="c1">// Modify attributes of the Dot depending on which buttons are pressed</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">GPIO</span><span class="p">.</span><span class="nf">digitalRead</span><span class="p">(</span><span class="n">pins</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="n">GPIO</span><span class="p">.</span><span class="kr">LOW</span><span class="p">)</span> <span class="p">{</span><span class="n">myDot</span><span class="p">.</span><span class="n">setSize</span><span class="p">();}</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">GPIO</span><span class="p">.</span><span class="nf">digitalRead</span><span class="p">(</span><span class="n">pins</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="n">GPIO</span><span class="p">.</span><span class="kr">LOW</span><span class="p">)</span> <span class="p">{</span><span class="n">myDot</span><span class="p">.</span><span class="n">setPosition</span><span class="p">();}</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">GPIO</span><span class="p">.</span><span class="nf">digitalRead</span><span class="p">(</span><span class="n">pins</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">==</span> <span class="n">GPIO</span><span class="p">.</span><span class="kr">LOW</span><span class="p">)</span> <span class="p">{</span><span class="n">myDot</span><span class="p">.</span><span class="n">setColor</span><span class="p">();}</span>

    <span class="c1">// Update the Dot state</span>
    <span class="n">myDot</span><span class="p">.</span><span class="n">update</span><span class="p">();</span>
    <span class="c1">// And draw it to the screen</span>
    <span class="n">myDot</span><span class="p">.</span><span class="n">show</span><span class="p">();</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nc">Dot</span> <span class="p">{</span>

    <span class="kr">float</span> <span class="n">initX</span><span class="p">;</span>
    <span class="kr">float</span> <span class="n">initY</span><span class="p">;</span>
    <span class="kr">float</span> <span class="n">currentX</span><span class="p">;</span>
    <span class="kr">float</span> <span class="n">currentY</span><span class="p">;</span>
    <span class="kr">int</span> <span class="n">positionRange</span> <span class="o">=</span> <span class="mi">60</span><span class="p">;</span>

    <span class="kr">float</span> <span class="n">initSize</span><span class="p">;</span>
    <span class="kr">float</span> <span class="n">currentSize</span><span class="p">;</span>
    <span class="kr">int</span> <span class="n">sizeRange</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span>

    <span class="kr">int</span> <span class="n">initColor</span><span class="p">;</span>
    <span class="kr">int</span> <span class="n">currentColor</span><span class="p">;</span>
    <span class="kr">int</span> <span class="n">ColorRange</span> <span class="o">=</span> <span class="mi">80</span><span class="p">;</span>

    <span class="kr">float</span> <span class="n">timer</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">;</span>
    <span class="kr">float</span> <span class="n">speed</span> <span class="o">=</span> <span class="mf">0.06</span><span class="p">;</span>

    <span class="n">Dot</span><span class="p">(</span><span class="kr">float</span> <span class="n">x</span><span class="p">,</span> <span class="kr">float</span> <span class="n">y</span><span class="p">,</span> <span class="kr">float</span> <span class="n">s</span><span class="p">,</span> <span class="kr">int</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">initX</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
        <span class="n">initY</span> <span class="o">=</span> <span class="n">y</span><span class="p">;</span>
        <span class="n">currentX</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
        <span class="n">currentY</span> <span class="o">=</span> <span class="n">y</span><span class="p">;</span>

        <span class="n">initSize</span> <span class="o">=</span> <span class="n">s</span><span class="p">;</span>
        <span class="n">currentSize</span> <span class="o">=</span> <span class="n">s</span><span class="p">;</span>

        <span class="n">initColor</span> <span class="o">=</span> <span class="n">c</span><span class="p">;</span>
        <span class="n">currentColor</span> <span class="o">=</span> <span class="n">c</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kr">void</span> <span class="n">setSize</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">currentSize</span> <span class="o">=</span> <span class="n">initSize</span> <span class="o">+</span> <span class="n">sizeRange</span> <span class="o">*</span> <span class="nf">sin</span><span class="p">(</span> <span class="n">timer</span> <span class="p">);</span>
    <span class="p">}</span>

    <span class="kr">void</span> <span class="n">setPosition</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">currentY</span> <span class="o">=</span> <span class="n">initY</span> <span class="o">+</span> <span class="n">positionRange</span> <span class="o">*</span> <span class="nf">cos</span><span class="p">(</span> <span class="n">timer</span> <span class="o">*</span><span class="mi">2</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kr">void</span> <span class="n">setColor</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">currentColor</span> <span class="o">=</span> <span class="kr">int</span><span class="p">(</span><span class="n">initColor</span> <span class="o">+</span> <span class="n">ColorRange</span> <span class="o">*</span> <span class="nf">sin</span><span class="p">(</span> <span class="n">timer</span> <span class="p">));</span>
    <span class="p">}</span>

    <span class="kr">void</span> <span class="n">update</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">timer</span> <span class="o">+=</span> <span class="n">speed</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kr">void</span> <span class="n">show</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">fill</span><span class="p">(</span><span class="n">currentColor</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
        <span class="n">ellipse</span><span class="p">(</span><span class="n">currentX</span><span class="p">,</span> <span class="n">currentY</span><span class="p">,</span> <span class="n">currentSize</span><span class="p">,</span> <span class="n">currentSize</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>How it works?</strong></p>
<p>Instead of drawing dot directly, we create a <code class="docutils literal notranslate"><span class="pre">Dot</span></code> class here.
Then, declare the object (in this case <code class="docutils literal notranslate"><span class="pre">myDot</span></code>).</p>
<p>This is a simple way to draw dots with multiple identical properties.
For example, if we add three functions to the dot in this project - change size, change position and change color - then each dot we declare will have the same function.
We can use the same button to make them do the same thing, or we can use different buttons to control each dot separately.</p>
<p>Using <strong>classes</strong> makes your sketch beautiful, powerful and flexible.</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Class_(computer_programming)">Class (computer programming) - Wikipedia</a></p>
<p>Next, let’s take a closer look at the <code class="docutils literal notranslate"><span class="pre">Dot</span></code> class.</p>
<div class="highlight-arduino notranslate"><div class="highlight"><pre><span></span><span class="n">Dot</span><span class="p">(</span><span class="kr">float</span> <span class="n">x</span><span class="p">,</span> <span class="kr">float</span> <span class="n">y</span><span class="p">,</span> <span class="kr">float</span> <span class="n">s</span><span class="p">,</span> <span class="kr">int</span> <span class="n">c</span><span class="p">)</span>
</pre></div>
</div>
<p>In the declaration, it needs to pass in four parameters, which are the X  and Y coordinate value of the position, the size, and the color (here it is set to the <a class="reference external" href="https://en.wikipedia.org/wiki/HSL_and_HSV">HSB color mode</a> ).</p>
<p>Each parameter will be assigned to 2 sets of values ​​(initial value and current value).</p>
<div class="highlight-arduino notranslate"><div class="highlight"><pre><span></span><span class="kr">float</span> <span class="n">initX</span><span class="p">;</span>
<span class="kr">float</span> <span class="n">initY</span><span class="p">;</span>
<span class="kr">float</span> <span class="n">currentX</span><span class="p">;</span>
<span class="kr">float</span> <span class="n">currentY</span><span class="p">;</span>
<span class="kr">int</span> <span class="n">positionRange</span> <span class="o">=</span> <span class="mi">60</span><span class="p">;</span>

<span class="kr">float</span> <span class="n">initSize</span><span class="p">;</span>
<span class="kr">float</span> <span class="n">currentSize</span><span class="p">;</span>
<span class="kr">int</span> <span class="n">sizeRange</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span>

<span class="kr">int</span> <span class="n">initColor</span><span class="p">;</span>
<span class="kr">int</span> <span class="n">currentColor</span><span class="p">;</span>
<span class="kr">int</span> <span class="n">ColorRange</span> <span class="o">=</span> <span class="mi">80</span><span class="p">;</span>
</pre></div>
</div>
<p>In addition to the initial value and the current value, there is also a set of range values. It is not difficult to understand that the initial value is used to determine the initial state of the dot (determined by the incoming parameters), while the current value will change within the range to make the dot move.</p>
<p>Therefore, except for the X coordinate value, the current values of the other three parameters are calculated as follows:</p>
<div class="highlight-arduino notranslate"><div class="highlight"><pre><span></span><span class="kr">void</span> <span class="nf">setSize</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">currentSize</span> <span class="o">=</span> <span class="n">initSize</span> <span class="o">+</span> <span class="n">sizeRange</span> <span class="o">*</span> <span class="nf">sin</span><span class="p">(</span> <span class="n">timer</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kr">void</span> <span class="nf">setPosition</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">currentY</span> <span class="o">=</span> <span class="n">initY</span> <span class="o">+</span> <span class="n">positionRange</span> <span class="o">*</span> <span class="nf">cos</span><span class="p">(</span> <span class="n">timer</span> <span class="o">*</span><span class="mi">2</span><span class="p">);</span>
<span class="p">}</span>

<span class="kr">void</span> <span class="nf">setColor</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">currentColor</span> <span class="o">=</span> <span class="kr">int</span><span class="p">(</span><span class="n">initColor</span> <span class="o">+</span> <span class="n">ColorRange</span> <span class="o">*</span> <span class="nf">sin</span><span class="p">(</span> <span class="n">timer</span> <span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If you are familiar with trigonometric functions, it should not be difficult to understand <a class="reference external" href="https://en.wikipedia.org/wiki/Sine">sine and cosine</a>, which gives a smooth periodic change (from -1 to 1) of the current value of the dot.</p>
<p>We also need to add a seed, <code class="docutils literal notranslate"><span class="pre">timer</span></code>, for the periodic variation. It adds the fixed value in the method <code class="docutils literal notranslate"><span class="pre">update()</span></code> and is called in <code class="docutils literal notranslate"><span class="pre">draw()</span></code>.</p>
<div class="highlight-arduino notranslate"><div class="highlight"><pre><span></span><span class="kr">void</span> <span class="nf">update</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">timer</span> <span class="o">+=</span> <span class="n">speed</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Finally, the dot is displayed according to the current value using the method <code class="docutils literal notranslate"><span class="pre">show()</span></code>, which is also called in <code class="docutils literal notranslate"><span class="pre">draw()</span></code>.</p>
<div class="highlight-arduino notranslate"><div class="highlight"><pre><span></span><span class="kr">void</span> <span class="nf">show</span><span class="p">()</span> <span class="p">{</span>
    <span class="nf">fill</span><span class="p">(</span><span class="n">currentColor</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
    <span class="n">ellipse</span><span class="p">(</span><span class="n">currentX</span><span class="p">,</span> <span class="n">currentY</span><span class="p">,</span> <span class="n">currentSize</span><span class="p">,</span> <span class="n">currentSize</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>What more?</strong></p>
<p>Having mastered the use of classes, you can already draw multiple dots with the same properties, so why not try to do something cooler.
For example, how about drawing a stable binary star system, or making a ‘DUET’ game?</p>
<p>For more please refer to <a class="reference external" href="https://processing.org/reference/">Processing Reference</a>.</p>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="metronome.html" class="btn btn-neutral float-right" title="Metronome" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="inflating_the_dot.html" class="btn btn-neutral float-left" title="Inflating the Dot" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, sunfounder.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>