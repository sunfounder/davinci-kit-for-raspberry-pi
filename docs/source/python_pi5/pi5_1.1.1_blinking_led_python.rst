.. note::

    隆Hola! Bienvenido a la Comunidad de Entusiastas de SunFounder para Raspberry Pi, Arduino y ESP32 en Facebook. Sum茅rgete en el mundo de Raspberry Pi, Arduino y ESP32 junto a otros entusiastas.

    **驴Por qu茅 unirse?**

    - **Soporte Experto**: Resuelve problemas postventa y desaf铆os t茅cnicos con la ayuda de nuestra comunidad y equipo.
    - **Aprende y Comparte**: Intercambia consejos y tutoriales para mejorar tus habilidades.
    - **Avances Exclusivos**: Accede anticipadamente a anuncios de nuevos productos y adelantos exclusivos.
    - **Descuentos Especiales**: Aprovecha descuentos exclusivos en nuestros productos m谩s recientes.
    - **Promociones Festivas y Sorteos**: Participa en sorteos y promociones especiales.

     驴Listo para explorar y crear con nosotros? Haz clic en [|link_sf_facebook|] y 煤nete hoy mismo.

.. _1.1.1_py_pi5:

1.1.1 LED Intermitente
=========================

Introducci贸n
-----------------

En este proyecto, aprenderemos a hacer que un LED parpadee mediante programaci贸n.
Con tu configuraci贸n, el LED puede producir una serie de fen贸menos interesantes. 
隆Adelante, int茅ntalo!

Componentes Necesarios
------------------------------

Para este proyecto, necesitamos los siguientes componentes. 

.. image:: ../python_pi5/img/1.1.1_blinking_led_list.png
    :width: 800
    :align: center

.. raw:: html

   <br/>

Diagrama de Conexiones
-------------------------

En este experimento, conectamos el pin GPIO 17 de la Raspberry Pi al 谩nodo (pin largo) del LED, luego el c谩todo (pin corto) del LED a una resistencia, y conectamos el otro extremo de la resistencia al pin GND en la Raspberry Pi. Para encender el LED necesitamos configurar GPIO17 en alto (3.3V), y podemos lograr esto mediante programaci贸n.

.. note::

    **Pin11** se refiere al pin 11 de la Raspberry Pi de izquierda a derecha, y su n煤mero de pin **BCM** correspondiente se muestra en la siguiente tabla.

En el contenido relacionado con el lenguaje Python, BCM 17 corresponde a 17 en la
columna BCM de la siguiente tabla. A su vez, es el mismo que el pin 11 de la Raspberry Pi, Pin 11.

============ ======== ===
T-Board Name physical BCM
GPIO17       Pin 11   17
============ ======== ===

.. image:: ../python_pi5/img/1.1.1_blinking_led_schematic.png
    :width: 800
    :align: center

Procedimientos del Experimento
------------------------------------

**Paso 1:** Construye el circuito.

.. image:: ../python_pi5/img/1.1.1_blinking_led_circuit.png
    :width: 800
    :align: center

**Paso 2:** Ve a la carpeta del c贸digo y ejec煤talo.

1. Si usas una pantalla, se recomienda seguir estos pasos.

Encuentra `1.1.1_BlinkingLed.py` y haz doble clic para abrirlo.

Haz clic en **Run** ->\ **Run Module** en la ventana, y aparecer谩 el 
siguiente contenido.

Para detener la ejecuci贸n, simplemente haz clic en el bot贸n X en la esquina 
superior derecha para cerrar la ventana, volviendo as铆 al c贸digo. Si modificas 
el c贸digo, antes de hacer clic en **Run Module (F5)**, debes guardarlo primero 
para ver los resultados.

2. Si inicias sesi贸n en la Raspberry Pi de forma remota, ingresa el siguiente comando:

.. raw:: html

   <run></run>

.. code-block::

   cd ~/davinci-kit-for-raspberry-pi/python-pi5

.. note::
    Cambia al directorio de la ruta del c贸digo en este experimento con el comando ``cd``.

**Paso 3:** Ejecuta el c贸digo

.. raw:: html

   <run></run>

.. code-block::

   sudo python3 1.1.1_BlinkingLed.py

.. note::
    Aqu铆, ``sudo`` es superuser do, y python indica que el archivo se ejecutar谩 con Python.

Al ejecutar el c贸digo, ver谩s que el LED parpadea.

**Paso 4:** Si deseas editar el archivo de c贸digo `1.1.1_BlinkingLed.py`,
presiona ``Ctrl + C`` para detener la ejecuci贸n del c贸digo. Luego, escribe el siguiente comando para abrir `1.1.1_BlinkingLed.py`:

.. raw:: html

   <run></run>

.. code-block::

   nano 1.1.1_BlinkingLed.py

.. note::
    nano es una herramienta de edici贸n de texto. Este comando se usa para abrir
    el archivo de c贸digo `1.1.1_BlinkingLed.py` con esta herramienta.

Presiona ``Ctrl+X`` para salir. Si has modificado el c贸digo, aparecer谩 una
pregunta sobre si deseas guardar los cambios. Escribe ``Y`` (guardar) o ``N`` (no guardar).

Luego, presiona ``Enter`` para salir. Escribe de nuevo nano `1.1.1_BlinkingLed.py` para ver el efecto despu茅s de los cambios.

.. warning::

    Si aparece un mensaje de error ``RuntimeError: Cannot determine SOC peripheral base address``, consulta :ref:`faq_soc`

**C贸digo**

A continuaci贸n se muestra el c贸digo del programa:

.. note::

   Puedes **Modificar/Restablecer/Copiar/Ejecutar/Detener** el c贸digo a continuaci贸n. Pero antes, debes acceder a la ruta del c贸digo fuente como ``davinci-kit-for-raspberry-pi/python-pi5``. Tras modificar el c贸digo, puedes ejecutarlo directamente para ver el efecto.

.. raw:: html

    <run></run>

.. code-block:: python

   #!/usr/bin/env python3
   from gpiozero import LED
   from time import sleep

   # Inicializa un LED conectado al pin GPIO 17 usando la biblioteca GPIO Zero.
   led = LED(17)

   try:
      # Inicia un bucle infinito para alternar el estado del LED.
      while True:
         # Enciende el LED e imprime un mensaje en la consola.
         led.on()
         print('...LED ON')

         # Espera 0.5 segundos con el LED encendido.
         sleep(0.5)

         # Apaga el LED e imprime un mensaje en la consola.
         led.off()
         print('LED OFF...')

         # Espera 0.5 segundos con el LED apagado.
         sleep(0.5)

   except KeyboardInterrupt:
      # Maneja de forma segura una interrupci贸n de teclado (Ctrl+C) saliendo del bucle.
      # GPIO Zero gestiona autom谩ticamente la limpieza de configuraciones de GPIO al salir.
      pass


**Explicaci贸n del C贸digo**

#. Al ejecutar el sistema, buscar谩 la ruta de instalaci贸n de Python en la configuraci贸n env, luego llamar谩 al int茅rprete correspondiente para completar la operaci贸n. Esto es para evitar que el usuario no instale Python en la ruta predeterminada ``/usr/bin``.

   .. code-block:: python

       #!/usr/bin/env python3

#. Estas l铆neas importan las clases y funciones necesarias: ``LED`` de ``gpiozero`` para el control del LED y ``sleep`` de ``time`` para demoras.

   .. code-block:: python

       from gpiozero import LED
       from time import sleep

#. Esta l铆nea crea un objeto LED conectado al pin GPIO 17.

   .. code-block:: python

       # Inicializa un LED conectado al pin GPIO 17 usando la biblioteca GPIO Zero.
       led = LED(17)

#. Un bucle infinito se inicia con ``while True:``. Dentro del bucle, el LED se enciende (``led.on()``) y se imprime un mensaje. Luego, el programa se detiene por 0.5 segundos (``sleep(0.5)``). Despu茅s, el LED se apaga (``led.off()``), se imprime otro mensaje, y el programa se pausa nuevamente por 0.5 segundos.

   .. code-block:: python

       try:
           # Inicia un bucle infinito para alternar el estado del LED.
           while True:
               # Enciende el LED e imprime un mensaje en la consola.
               led.on()
               print('...LED ON')

               # Espera 0.5 segundos con el LED encendido.
               sleep(0.5)

               # Apaga el LED e imprime un mensaje en la consola.
               led.off()
               print('LED OFF...')

               # Espera 0.5 segundos con el LED apagado.
               sleep(0.5)

#. El bloque ``except`` captura una ``KeyboardInterrupt`` (como presionar Ctrl+C) y sale del bucle de manera segura. La declaraci贸n ``pass`` se usa aqu铆 como un marcador de posici贸n para indicar que no se toma ninguna acci贸n espec铆fica tras la interrupci贸n.

   .. code-block:: python

       except KeyboardInterrupt:
           # Maneja de forma segura una interrupci贸n de teclado (Ctrl+C) saliendo del bucle.
           # GPIO Zero gestiona autom谩ticamente la limpieza de configuraciones de GPIO al salir.
           pass

