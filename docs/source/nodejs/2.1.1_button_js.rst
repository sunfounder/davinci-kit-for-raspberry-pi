.. note::

    隆Hola! Bienvenido a la Comunidad de Entusiastas de SunFounder para Raspberry Pi, Arduino y ESP32 en Facebook. Sum茅rgete en el fascinante mundo de Raspberry Pi, Arduino y ESP32 junto a otros entusiastas.

    **驴Por qu茅 unirte?**

    - **Soporte Experto**: Resuelve problemas postventa y desaf铆os t茅cnicos con la ayuda de nuestra comunidad y equipo.
    - **Aprende y Comparte**: Intercambia consejos y tutoriales para mejorar tus habilidades.
    - **Avances Exclusivos**: Obt茅n acceso anticipado a nuevos anuncios de productos y adelantos exclusivos.
    - **Descuentos Especiales**: Disfruta de descuentos exclusivos en nuestros productos m谩s recientes.
    - **Promociones Festivas y Sorteos**: Participa en sorteos y promociones especiales de temporada.

     驴Listo para explorar y crear con nosotros? Haz clic en [|link_sf_facebook|] y 煤nete hoy mismo.

2.1.1 Button
===============

Introducci贸n
-----------------

En este proyecto, aprenderemos a encender y apagar un LED usando un bot贸n.

Componentes
---------------

.. image:: ../img/list_2.1.1_Button.png


Diagrama del Circuito
-------------------------

Usaremos un bot贸n normalmente abierto como entrada para la Raspberry Pi, 
y la conexi贸n se muestra en el siguiente diagrama. Cuando se presiona el 
bot贸n, el GPIO18 cambiar谩 a nivel bajo (0V). Podemos detectar el estado 
del GPIO18 mediante programaci贸n: si el GPIO18 est谩 en nivel bajo, significa 
que el bot贸n est谩 presionado. As铆, el c贸digo correspondiente puede ejecutarse 
al presionar el bot贸n, y el LED se encender谩.

.. note::
    El pin m谩s largo del LED es el 谩nodo, y el m谩s corto es el c谩todo.

.. image:: ../img/image302.png


.. image:: ../img/image303.png


Procedimientos Experimentales
-----------------------------------

**Paso 1**: Construye el circuito.

.. image:: ../img/image152.png

**Paso 2**: Dir铆gete a la carpeta del c贸digo.

.. raw:: html

   <run></run>

.. code-block:: 

    cd ~/davinci-kit-for-raspberry-pi/nodejs/

**Paso 3**: Ejecuta el c贸digo.

.. raw:: html

   <run></run>

.. code-block:: 

    sudo node button.js

Ahora, presiona el bot贸n, y el LED se encender谩; suelta el bot贸n, y el LED se apagar谩.

**C贸digo**

.. code-block:: js

    const Gpio = require('pigpio').Gpio; 

    
    const led = new Gpio(17, {mode: Gpio.OUTPUT});
   
    const button = new Gpio(18, {
      mode: Gpio.INPUT,
      pullUpDown: Gpio.PUD_DOWN,     
      edge: Gpio.EITHER_EDGE        
    });

    
    button.on('interrupt', (level) => {  
      led.digitalWrite(level);          
    });

**Explicaci贸n del C贸digo**

.. code-block:: js

    const Gpio = require('pigpio').Gpio;    

    const led = new Gpio(17, {mode: Gpio.OUTPUT});

Importa el m贸dulo ``pigpio``, crea un objeto led para controlar el puerto 
IO Gpio17, y config煤ralo en modo de salida.

.. code-block:: js

    const button = new Gpio(18, {
      mode: Gpio.INPUT,
      pullUpDown: Gpio.PUD_DOWN,     
      edge: Gpio.EITHER_EDGE       
    });

Crea un objeto button para controlar el puerto IO Gpio18, config煤ralo en modo de entrada,
con una resistencia pull-down (bajo cuando el bot贸n no est谩 presionado, alto cuando el bot贸n est谩 presionado).
Configura la funci贸n de interrupci贸n en modo EITHER_EDGE, es decir, tanto los flancos ascendentes como descendentes activar谩n la funci贸n de interrupci贸n.

.. code-block:: js

    button.on('interrupt', (level) => {  
      led.digitalWrite(level);          
    });

Escribe una funci贸n de interrupci贸n: cuando el bot贸n se presiona, es un flanco descendente que activa la funci贸n de interrupci贸n;
en este momento, el nivel bajo del puerto IO del bot贸n se escribe en el puerto IO del LED, y el LED se enciende.

Cuando se suelta el bot贸n, es un flanco ascendente que activa la funci贸n de interrupci贸n;
en este momento, el nivel alto del puerto IO del bot贸n se escribe en el puerto IO del LED, y el LED se apaga.

Imagen del Fen贸meno
-----------------------

.. image:: ../img/image153.jpeg
