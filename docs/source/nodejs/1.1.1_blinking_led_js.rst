.. note::

    隆Hola! Bienvenido a la Comunidad de Entusiastas de SunFounder para Raspberry Pi, Arduino y ESP32 en Facebook. Sum茅rgete en el apasionante mundo de Raspberry Pi, Arduino y ESP32 junto a otros entusiastas.

    **驴Por qu茅 unirte?**

    - **Soporte Experto**: Resuelve problemas postventa y desaf铆os t茅cnicos con la ayuda de nuestra comunidad y equipo.
    - **Aprende y Comparte**: Intercambia consejos y tutoriales para mejorar tus habilidades.
    - **Avances Exclusivos**: Obt茅n acceso anticipado a nuevos anuncios de productos y adelantos exclusivos.
    - **Descuentos Especiales**: Disfruta de descuentos exclusivos en nuestros productos m谩s recientes.
    - **Promociones Festivas y Sorteos**: Participa en sorteos y promociones especiales de temporada.

     驴Listo para explorar y crear con nosotros? Haz clic en [|link_sf_facebook|] y 煤nete hoy mismo.

1.1.1 LED Intermitente
=========================

Introducci贸n
---------------

En este proyecto, aprenderemos a hacer parpadear un LED mediante programaci贸n.
Con tus ajustes, el LED puede producir una serie de efectos interesantes. 隆Adelante, int茅ntalo!

Componentes
--------------

.. image:: img/blinking_led_list.png
    :width: 800
    :align: center

Diagrama del Circuito
-------------------------

En este experimento, conecta una resistencia de 220惟 al 谩nodo (la pata larga 
del LED), luego la resistencia a 3.3 V, y conecta el c谩todo (la pata corta) del 
LED a GPIO17 de la Raspberry Pi. Por lo tanto, para encender un LED, necesitamos 
poner el GPIO17 en nivel bajo (0V). Podemos lograr este efecto mediante programaci贸n.

.. image:: img/image48.png
    :width: 800
    :align: center

Procedimiento Experimental
------------------------------

**Paso 1:** Construye el circuito.

.. image:: img/image49.png
    :width: 800
    :align: center

**Paso 2:** Dir铆gete a la carpeta del c贸digo.

.. raw:: html

   <run></run>

.. code-block::

   cd ~/davinci-kit-for-raspberry-pi/nodejs/

.. note::
    Cambia de directorio a la ruta del c贸digo de este experimento usando ``cd``.

**Paso 3:** Ejecuta el c贸digo

.. raw:: html

   <run></run>

.. code-block::

   sudo node blink.js

.. note::
    Aqu铆 ``sudo`` significa superusuario y ``node`` indica ejecutar el archivo con Node.js.

Despu茅s de ejecutar el c贸digo, ver谩s que el LED parpadea.

**Paso 4:** Si deseas editar el archivo de c贸digo ``blink.js``, 
 presiona ``Ctrl + C`` para detener la ejecuci贸n. Luego, escribe 
 el siguiente comando para abrir ``blink.js``:

.. raw:: html

   <run></run>

.. code-block::

   nano blink.js

.. note::
    ``nano`` es una herramienta de edici贸n de texto. El comando abre el 
    archivo de c贸digo ``blink.js`` con esta herramienta.

Presiona ``Ctrl+X`` para salir. Si has modificado el c贸digo, aparecer谩 una 
indicaci贸n preguntando si deseas guardar los cambios. Escribe ``Y`` (guardar) o 
``N`` (no guardar).

Luego, presiona ``Enter`` para salir. Vuelve a escribir ``nano blink.js`` para ver los cambios realizados.

**C贸digo**

El siguiente es el c贸digo del programa:

.. code-block:: js

   const Gpio = require('pigpio').Gpio;
   const led = new Gpio(17,{mode: Gpio.OUTPUT});

   var led_state = 0;

   function blink_led(){
      led.digitalWrite(led_state);
      led_state = !led_state;
   }

   setInterval(blink_led,300);

Alternativamente, escribe el c贸digo como una funci贸n flecha espec铆fica de JavaScript:

.. code-block:: js

   const Gpio = require('pigpio').Gpio;
   const led = new Gpio(17,{mode: Gpio.OUTPUT});

   var led_state = 0;

   setInterval(() => {
      led.digitalWrite(led_state);
      led_state = !led_state;
   }, 300);

**Explicaci贸n del C贸digo**

.. code-block:: js

   const Gpio = require('pigpio').Gpio;

Importa el constructor ``Gpio`` del paquete ``pigpio`` y define una 
constante ``Gpio`` que representa este constructor.

Con este constructor, podemos usar JavaScript para controlar dispositivos 
electr贸nicos. ``pigpio`` se utiliza para implementar GPIO r谩pido, PWM, 
control de servos, notificaci贸n de cambios de estado y manejo de interrupciones.

* `pigpio - github <https://github.com/fivdi/pigpio>`_

.. A wrapper for the pigpio C library to enable fast GPIO, PWM, servo control, 
.. state change notification and interrupt handling with JS on the Raspberry Pi Zero, 
.. 1, 2, 3 or 4.

.. code-block:: js

   const led = new Gpio(17,{mode: Gpio.OUTPUT});

La palabra clave ``new`` se utiliza para construir objetos instanciados de la clase.

Conecta el LED al GPIO17 de la placa de expansi贸n en forma de T, configura el modo 
``LedPin`` en salida y as铆gnalo a la constante ``led``. Esto construye un objeto GPIO17 
``led`` en modo de salida.

Hay dos maneras de numerar los pines IO en la Raspberry Pi: n煤mero BOARD y 
n煤mero BCM. En nuestro proyecto, usamos el n煤mero BCM. Necesitas configurar 
cada canal como entrada o salida.

.. code-block:: js

   function blink_led(){
      led.digitalWrite(led_state);
      led_state = !led_state;
   }

   setInterval(blink_led,300);

El m茅todo ``setInterval()`` puede llamar funciones o calcular expresiones con 
un per铆odo especificado (en milisegundos). Aqu铆 cambiamos el estado de operaci贸n del LED con un per铆odo de 300ms.

*  `setInerval <https://developer.mozilla.org/en-US/docs/Web/API/setInterval>`_

El m茅todo ``gpio.digitalWrite(level)`` establece el nivel del gpio en 1 o 0.

.. code-block:: js


   var led_state = 0;

   setInterval(() => {
      led.digitalWrite(led_state);
      led_state = !led_state;
   }, 300);

Reescribe el c贸digo como una funci贸n flecha para hacerlo m谩s conciso.

* `Arrow Functions <https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions>`_

Imagen del Fen贸meno
----------------------

.. image:: img/image54.jpeg
    :width: 800
    :align: center