.. note::

    隆Hola! Bienvenido a la comunidad de entusiastas de SunFounder Raspberry Pi, Arduino y ESP32 en Facebook. Profundiza en Raspberry Pi, Arduino y ESP32 junto a otros entusiastas.

    **驴Por qu茅 unirte?**

    - **Soporte experto**: Resuelve problemas post-venta y desaf铆os t茅cnicos con la ayuda de nuestra comunidad y equipo.
    - **Aprender y compartir**: Intercambia consejos y tutoriales para mejorar tus habilidades.
    - **Avances exclusivos**: Accede anticipadamente a anuncios de nuevos productos y vistas previas.
    - **Descuentos especiales**: Disfruta de descuentos exclusivos en nuestros productos m谩s recientes.
    - **Promociones festivas y sorteos**: Participa en sorteos y promociones navide帽as.

     驴Listo para explorar y crear con nosotros? Haz clic en [|link_sf_facebook|] y 煤nete hoy.

2.1.1 Bot贸n
============

Introducci贸n
-----------------

En esta lecci贸n, aprenderemos a encender o apagar el LED utilizando un bot贸n.

Componentes
---------------

.. image:: img/list_2.1.1_Button.png


Principio
-------------

**Bot贸n**

El bot贸n es un componente com煤n utilizado para controlar dispositivos 
electr贸nicos. Se utiliza generalmente como un interruptor para conectar 
o desconectar circuitos. Aunque los botones vienen en una variedad de 
tama帽os y formas, el que se utiliza aqu铆 es un mini bot贸n de 6 mm, como 
se muestra en las siguientes im谩genes.

Los dos pines a la izquierda est谩n conectados, y el de la derecha es 
similar al de la izquierda, como se muestra a continuaci贸n:

.. image:: img/image148.png
    :width: 400
    :align: center

El s铆mbolo que se muestra a continuaci贸n se utiliza com煤nmente para representar 
un bot贸n en circuitos.

.. image:: img/image301.png
    :width: 400
    :align: center


Cuando se presiona el bot贸n, los 4 pines se conectan, cerrando as铆 el circuito.

Diagrama Esquem谩tico
------------------------

Utiliza un bot贸n normalmente abierto como entrada para Raspberry Pi; la 
conexi贸n se muestra en el diagrama esquem谩tico a continuaci贸n. Cuando se 
presiona el bot贸n, el GPIO18 se convierte en nivel bajo (0V). Podemos 
detectar el estado del GPIO18 a trav茅s de programaci贸n. Es decir, si el 
GPIO18 se convierte en nivel bajo, significa que el bot贸n est谩 presionado. 
Puedes ejecutar el c贸digo correspondiente cuando se presiona el bot贸n, y 
luego el LED se encender谩.

.. note::
    El pin m谩s largo del LED es el 谩nodo y el m谩s corto es el c谩todo.

.. image:: img/image302.png
    :width: 600
    :align: center


.. image:: img/image303.png
    :width: 400
    :align: center


Procedimientos Experimentales
-------------------------------

**Paso 1**: Construir el circuito.

.. image:: img/image152.png
    :width: 800

**Paso 2**: Abre el archivo de c贸digo.

.. raw:: html

   <run></run>

.. code-block::

    cd ~/davinci-kit-for-raspberry-pi/c/2.1.1/

.. note::
    Cambia el directorio a la ruta del c贸digo en este experimento mediante **cd**.

**Paso 3**: Compila el c贸digo.

.. raw:: html

   <run></run>

.. code-block::

    gcc 2.1.1_Button.c -lwiringPi

**Paso 4**: Ejecuta el archivo ejecutable.

.. raw:: html

   <run></run>

.. code-block::

    sudo ./a.out

Despu茅s de ejecutar el c贸digo, presiona el bot贸n; el LED se encender谩; 
de lo contrario, se apagar谩.

.. note::

    Si no funciona despu茅s de ejecutarlo, o si aparece un mensaje de error: "wiringPi.h: No such file or directory", consulta :ref:`C code is not working?`.

**C贸digo**

.. code-block:: c

    #include <wiringPi.h>
    #include <stdio.h>

    #define LedPin      0
    #define ButtonPin   1

    int main(void){
        // Cuando la inicializaci贸n falla, imprime un mensaje en pantalla
        if(wiringPiSetup() == -1){
            printf("setup wiringPi failed !");
            return 1;
        }
        
        pinMode(LedPin, OUTPUT);
        pinMode(ButtonPin, INPUT);
        digitalWrite(LedPin, HIGH);
        
        while(1){
            // Indica que el bot贸n ha sido presionado
            if(digitalRead(ButtonPin) == 0){
                // LED encendido
                digitalWrite(LedPin, LOW);
            //  printf("...LED encendido\n");
            }
            else{
                // LED apagado
                digitalWrite(LedPin, HIGH);
            //  printf("LED apagado...\n");
            }
        }
        return 0;
    }

**Explicaci贸n del C贸digo**

.. code-block:: 

    #define LedPin      0

El pin GPIO17 en la placa de expansi贸n T es igual al GPIO0 en wiringPi.

.. code-block:: 

    #define ButtonPin   1

ButtonPin est谩 conectado al GPIO1.

.. code-block:: 

    pinMode(LedPin, OUTPUT);

Establece LedPin como salida para asignarle un valor.

.. code-block:: 

    pinMode(ButtonPin, INPUT);

Establece ButtonPin como entrada para leer el valor de ButtonPin.

.. code-block:: C

    while(1){
            // Indica que el bot贸n ha sido presionado
            if(digitalRead(ButtonPin) == 0){
                // LED encendido
                digitalWrite(LedPin, LOW);
            //  printf("...LED encendido\n");
            }
            else{
                // LED apagado
                digitalWrite(LedPin, HIGH);
            //  printf("LED apagado...\n");
            }
        }

if (digitalRead(ButtonPin) == 0): verifica si el bot贸n ha sido presionado. 
Ejecuta digitalWrite(LedPin, LOW) cuando se presiona el bot贸n para encender el LED.
