.. note::

    Hallo und willkommen in der SunFounder Raspberry Pi & Arduino & ESP32 Enthusiasten-Gemeinschaft auf Facebook! Tauchen Sie tiefer ein in die Welt von Raspberry Pi, Arduino und ESP32 mit anderen Enthusiasten.

    **Warum beitreten?**

    - **Expertenunterst√ºtzung**: L√∂sen Sie Nachverkaufsprobleme und technische Herausforderungen mit Hilfe unserer Gemeinschaft und unseres Teams.
    - **Lernen & Teilen**: Tauschen Sie Tipps und Anleitungen aus, um Ihre F√§higkeiten zu verbessern.
    - **Exklusive Vorschauen**: Erhalten Sie fr√ºhzeitigen Zugang zu neuen Produktank√ºndigungen und exklusiven Einblicken.
    - **Spezialrabatte**: Genie√üen Sie exklusive Rabatte auf unsere neuesten Produkte.
    - **Festliche Aktionen und Gewinnspiele**: Nehmen Sie an Gewinnspielen und Feiertagsaktionen teil.

    üëâ Sind Sie bereit, mit uns zu erkunden und zu erschaffen? Klicken Sie auf [|link_sf_facebook|] und treten Sie heute bei!

2.2.7 MFRC522 RFID-Modul
==========================

Einf√ºhrung
---------------

Radio Frequency Identification (RFID) bezieht sich auf Technologien, die die drahtlose Kommunikation zwischen einem Objekt (oder Tag) und einem Abfrageger√§t (oder Leseger√§t) verwenden, um solche Objekte automatisch zu verfolgen und zu identifizieren.

Einige der h√§ufigsten Anwendungen f√ºr diese Technologie sind Lieferketten f√ºr den Einzelhandel, milit√§rische Lieferketten, automatisierte Zahlungsmethoden, Gep√§ckverfolgung und -verwaltung, Dokumentenverfolgung und pharmazeutische Verwaltung, um nur einige zu nennen.

In diesem Projekt werden wir RFID zum Lesen und Schreiben verwenden.

Komponenten
-----------------

.. image:: ../img/list_2.2.7.png


Prinzip
---------

**RFID**

Radio Frequency Identification (RFID) bezieht sich auf Technologien, bei denen eine drahtlose Kommunikation zwischen einem Objekt (oder Tag) und einem Abfrageger√§t (oder Leseger√§t) verwendet wird, um solche Objekte automatisch zu verfolgen und zu identifizieren. Die Tag-√úbertragungsreichweite ist auf mehrere Meter vom Leseger√§t begrenzt. Eine klare Sichtlinie zwischen Leseger√§t und Etikett ist nicht unbedingt erforderlich.

Die meisten Etikette enthalten mindestens eine integrierte Schaltung (IC) und eine Antenne. Der Mikrochip speichert Informationen und ist f√ºr die Verwaltung der Hochfrequenzkommunikation mit dem Leseger√§t verantwortlich. Passive Etiketts haben keine unabh√§ngige Energiequelle und sind auf ein externes elektromagnetisches Signal angewiesen, das vom Leseger√§t bereitgestellt wird, um ihren Betrieb zu betreiben. Aktive Etiketts enthalten eine unabh√§ngige Energiequelle, z. B. eine Batterie. Dann k√∂nnen sie eine erh√∂hte Verarbeitung, √úbertragungsf√§higkeit und Reichweite aufweisen.

.. image:: ../img/image230.png


**MFRC522**

MFRC522 ist eine Art integrierter Lese- und Schreibkartenchip. Es wird √ºblicherweise im Radio bei 13,56 MHz verwendet. Es wurde von der NXP Company eingef√ºhrt und ist ein ber√ºhrungsloser, kosteng√ºnstiger und kleiner Niederspannungs-Kartenchip, der die beste Wahl f√ºr intelligente Instrumente und tragbare Handheld-Ger√§te darstellt.

Der MF RC522 verwendet ein fortschrittliches Modulations- und Demodulationskonzept, das in allen Arten von passiven kontaktlosen Kommunikationsmethoden und -protokollen mit 13,56 MHz vollst√§ndig dargestellt wird. Dar√ºber hinaus unterst√ºtzt es den schnellen CRYPTO1-Verschl√ºsselungsalgorithmus zur √úberpr√ºfung von MIFARE-Produkten. Der MFRC522 unterst√ºtzt auch die ber√ºhrungslose Hochgeschwindigkeitskommunikation der MIFARE-Serie mit einer bidirektionalen Daten√ºbertragungsrate von bis zu 424 kbit/s. Als neues Mitglied der hochintegrierten 13,56-MHz-Lesekartenserie ist der MF RC522 dem vorhandenen MF RC500 und MF RC530 sehr √§hnlich, es gibt jedoch auch gro√üe Unterschiede. Es kommuniziert mit dem Host-Computer √ºber die serielle Art und Weise, die weniger Verkabelung erfordert. Sie k√∂nnen zwischen SPI-, I2C- und seriellem UART-Modus (√§hnlich wie RS232) w√§hlen, um die Verbindung zu reduzieren, Platz auf der Leiterplatte zu sparen (kleinere Gr√∂√üe) und Kosten zu senken.

Schematische Darstellung
-------------------------------------------

.. image:: ../img/image331.png


Experimentelle Verfahren
--------------------------------

**Schritt 1**: Bauen Sie die Schaltung auf.

.. image:: ../img/image232.png
    :width: 800



**Schritt 2**: SPI einrichten (weitere Informationen finden Sie in Anhang. Wenn Sie :ref:`spi_configuration` haben, √ºberspringen Sie diesen Schritt.)

**Schritt 3**: Gehen Sie zum Ordner der Kode.

.. raw:: html

   <run></run>

.. code-block:: 

    cd ~/davinci-kit-for-raspberry-pi/c/2.2.7/

**Schritt 4**: Kompilieren Sie die Kode.

.. raw:: html

   <run></run>

.. code-block:: 

    make read
    make write

.. note::
    Es gibt zwei Beispiele, mit denen Sie die Karten-ID lesen oder schreiben k√∂nnen. Sie k√∂nnen je nach Bedarf eines davon ausw√§hlen.

**Schritt 5:** Nachdem Sie ``./write`` ausgef√ºhrt haben, geben Sie die Informationen ein, z.B. den Namen der Person, und legen Sie dann den Tag oder die Karte auf das MRC522-Modul und warten Sie, bis das Schreiben abgeschlossen ist.

.. raw:: html

   <run></run>

.. code-block:: 

    sudo ./read

**Schritt 6:** F√ºhren Sie jetzt ``./read`` aus, um die Informationen des Tags oder der Karte zu lesen, die Sie geschrieben haben.

.. raw:: html

   <run></run>
   
.. code-block:: 

    sudo ./write

**Code Erkl√§rung**

.. code-block:: c

    InitRc522();

Mit dieser Funktion wird das RFID RC522-Modul initialisiert.

.. code-block:: c

    uint8_t read_card_data();

Diese Funktion wird zum Lesen der Daten der Karte verwendet. Wenn der Lesevorgang erfolgreich ist, wird ‚Äû1‚Äú zur√ºckgegeben.

.. code-block:: c

    uint8_t write_card_data(uint8_t *data);

Diese Funktion wird verwendet, um die Daten der Karte zu schreiben und gibt ‚Äû1‚Äú zur√ºck, wenn das Schreiben erfolgreich war. ``*data`` sind die Informationen, die auf die Karte geschrieben werden.

